# 🤖 AI 智能功能使用指南

本組織架構圖應用程式現已整合 AI 智能功能，為您提供以下強大的功能：

## 🚀 快速開始

### 1. 環境配置
1. 複製 `.env.local.example` 為 `.env.local`
2. 在 `.env.local` 中設定您的 OpenAI API 金鑰：
   ```
   OPENAI_API_KEY=your_openai_api_key_here
   ```
3. 重新啟動開發伺服器：`npm run dev`

### 2. 啟動 AI 功能
- 點擊畫面右側的 "AI" 按鈕開啟 AI 功能面板
- AI 面板將滑入畫面右半部，與組織圖並排顯示

## 🎯 主要功能

### 📊 智能組織分析
**用途：**全面分析您的組織架構，提供專業優化建議

**操作步驟：**
1. 確保已建立組織架構（至少需要一些員工節點）
2. 在 AI 面板中選擇「智能分析」標籤
3. 點擊「開始分析」按鈕
4. 等待 AI 分析完成（通常需要 10-30 秒）
5. 查看分析結果並可匯出為文字檔

**分析內容包括：**
- 組織結構評估
- 人力配置分析
- 管理效率評估
- 潛在問題識別
- 具體改善建議

### 💬 AI 智能助手
**用途：**即時回答關於組織架構的任何問題

**操作步驟：**
1. 選擇「AI 助手」標籤
2. 在輸入框中輸入問題（例如：「哪個部門人員最多？」）
3. 按 Enter 或點擊發送按鈕
4. AI 將根據您的組織資料提供精準答案

**常見問題範例：**
- 「組織架構有什麼問題嗎？」
- 「各部門的職責分配如何？」
- 「管理層級是否過深？」
- 「有哪些優化建議？」

### 📝 職位描述生成器
**用途：**為任何員工快速生成專業的職位描述

**操作步驟：**
1. 選擇「職位描述」標籤
2. 從下拉選單中選擇員工
3. 點擊「生成描述」按鈕
4. 查看生成的職位描述
5. 可進行編輯修改或直接匯出

**生成內容包括：**
- 職位概述與目標
- 主要職責詳述
- 技能與資格要求
- 工作內容說明

## ⚡ 使用技巧

### 最佳實務
1. **組織資料完整性**：確保員工資料（姓名、職位、部門）填寫完整，AI 分析結果會更準確
2. **問題描述清晰**：向 AI 助手提問時，盡量使用具體、清晰的問題
3. **結果可編輯**：所有 AI 生成的內容都支援編輯，您可以根據實際需求調整

### 效能優化
1. **API 回應時間**：首次使用可能較慢，後續請求會更快
2. **網路連線**：確保穩定的網路連線以獲得最佳體驗
3. **瀏覽器快取**：定期清理瀏覽器快取以避免顯示問題

## 🛠️ 故障排除

### 常見問題

**Q: AI 功能無法使用**
A: 
- 檢查 `.env.local` 檔案中的 API 金鑰是否正確設定
- 確認 API 金鑰有足夠的使用額度
- 重新啟動開發伺服器

**Q: 分析結果不準確**
A:
- 確保組織架構資料完整
- 檢查員工資料是否填寫正確
- 嘗試重新生成分析

**Q: API 呼叫失敗**
A:
- 檢查網路連線
- 確認 OpenAI 服務狀態
- 檢查 API 金鑰權限

## 📈 進階設定

在 `.env.local` 中可以調整以下參數：

```env
# 使用的 AI 模型（預設：gpt-3.5-turbo）
LLM_MODEL=gpt-4

# 回應長度限制（預設：2000）
LLM_MAX_TOKENS=3000

# 創造性程度（0-1，預設：0.7）
LLM_TEMPERATURE=0.5

# 請求逾時時間（毫秒，預設：30000）
LLM_TIMEOUT=60000

# 重試次數（預設：3）
LLM_MAX_RETRIES=5
```

## 🎨 用戶體驗特色

- **響應式設計**：支援各種螢幕尺寸
- **即時載入狀態**：清晰顯示處理進度
- **錯誤處理**：友善的錯誤提示與建議
- **資料匯出**：支援分析報告與職位描述匯出
- **流暢動畫**：平滑的介面過渡效果

## 🚀 未來功能預告

我們計劃在後續版本中加入：
- 繼任規劃建議
- 薪資結構分析
- 培訓需求評估
- 組織風險預警
- 多語言支援

---

**需要協助？** 如果您遇到任何問題，請檢查瀏覽器控制台的錯誤訊息，或參考上方的故障排除指南。